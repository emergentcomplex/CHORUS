{% extends "base.html" %}
{% block content %}
<div class="bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 mb-8">
    <h2 class="text-2xl mb-4 font-semibold text-gray-300">Queue New Analysis</h2>
    <form action="/" method="post">
        <textarea name="query_text" class="w-full bg-gray-900 border border-gray-600 rounded-md p-2 text-gray-200 focus:ring-2 focus:ring-cyan-500" rows="3" placeholder="Enter your initial freestyle query..."></textarea>
        <div class="flex items-center justify-between mt-4">
            <div>
                <label for="mode" class="text-sm font-medium text-gray-300">Analysis Mode:</label>
                <select name="mode" id="mode" class="bg-gray-700 border border-gray-600 rounded-md p-2 text-sm ml-2">
                    <option value="flash">Flash</option>
                    <option value="think">Think</option>
                    <option value="deep_research">Deep Research</option>
                </select>
            </div>
            <button type="submit" class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded">Start New Session</button>
        </div>
    </form>
</div>

<!-- This div is the target for our live-updating dashboard content -->
<div id="dashboard-content" hx-get="/update_dashboard" hx-trigger="load, every 5s" hx-swap="innerHTML">
    <div class="text-center text-gray-400 p-8">
        <p>Loading dashboard content...</p>
    </div>
</div>
{% endblock %}
